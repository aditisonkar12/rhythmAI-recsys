<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
  <title>RhythmAI â€“ Music Recommendation System</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: auto;
      padding: 20px;
    }
    input {
      width: 80%;
      padding: 10px;
      margin-right: 10px;
    }
    button {
      padding: 10px 15px;
    }
    .song {
      margin-top: 15px;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 6px;
    }
  </style>
</head>

<body>
    <h1>ðŸŽµ RhythmAI</h1>
  <p>Enter a user ID (msno) to get music recommendations</p>

  <input type="text" id="userId" placeholder="Enter msno" />
  <button onclick="getRecommendations()">Recommend</button>

  <div id="results"></div>

  <script>
    async function getRecommendations() {
      const userId = document.getElementById("userId").value;
      const resultsDiv = document.getElementById("results");
      resultsDiv.innerHTML = "Loading...";

      try {
        const response = await fetch(
          `/recommend/${userId}`
        );

        const data = await response.json();

        if (data.error) {
          resultsDiv.innerHTML = data.error;
          return;
        }

        resultsDiv.innerHTML = "";
        data.recommendations.forEach(song => {
          resultsDiv.innerHTML += `
            <div class="song">
              <strong>Artist:</strong> ${song.artist}<br/>
              <strong>Genres:</strong> ${song.genres.join(", ")}<br/>
              <strong>Language:</strong> ${song.language}
            </div>
          `;
        });
      } catch (err) {
        resultsDiv.innerHTML = "Error fetching recommendations";
      }
    }
  </script>
</body>
</html>